---
title: "Pok√©dex Explorer ‚Äî Pok√©mon Evolution Module"
output:
  flexdashboard::flex_dashboard:
    orientation: rows
    vertical_layout: fill
    theme: journal
runtime: shiny
---

```{r setup, include=FALSE}
library(tidyverse)
library(flexdashboard)
library(shiny)
library(magick)
library(stringr)
```

```{r}
tuesdata <- tidytuesdayR::tt_load('2025-04-01')
## OR
tuesdata <- tidytuesdayR::tt_load(2025, week = 13)

pokemon_df <- tuesdata$pokemon_df

# Option 2: Read directly from GitHub

pokemon_df <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-04-01/pokemon_df.csv')

```


<style>
/* Pok√©mon-themed module titles */
.dex-title {
  font-family: serif;
  font-size: 118%;
  font-weight: bold;
  color: #3b2f23;
  margin-bottom: 4px;
}

/* Warm-toned captions */
.caption-warm {
  font-style: italic;
  color: #6a604d;
  font-size: 90%;
}

/* Dashed field-guide separator */
hr.field-sep {
  border-top: 1px dashed #b8ad99;
  margin-top: 8px;
  margin-bottom: 8px;
  opacity: 0.8;
}

/* Notes card look */
.notes-card {
  background-color: #faf7f0;
  border: 1px solid #d5ccb8;
  padding: 10px 12px;
  border-radius: 6px;
}

/* Trainer control panel styling (tight, clean) */
.trainer-panel {
  background-color: #fdfaf4;
  border: 1px solid #e0d4bd;
  border-radius: 6px;
  padding: 8px 10px;
}

/* Stat map panel styling with faint Pok√©ball ring (tight, clean) */
.map-panel {
  background: radial-gradient(circle at 30% 30%, rgba(229, 59, 59, 0.08) 0, rgba(229, 59, 59, 0.0) 55%),
              #fefdf8;
  border: 1px solid #e0d4bd;
  border-radius: 6px;
  padding: 8px 10px;
}

/* Pok√©dex-style labels for controls */
.control-label {
  font-weight: 600;
  font-size: 88%;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #3b2f23;
  margin-top: 4px;
  margin-bottom: 2px;
}

/* Reduce default margin on h3 section headers */
.section.level3 > h3 {
  margin-top: 4px;
  margin-bottom: 4px;
}
</style>

Evolution
=====================================

**Pok√©mon Evolution:** Explore pok√©mon evolution from unevolved to full power  
<span class="caption-warm">A Pok√©dex-style visual compendium.</span>

<hr class="field-sep">

Row {data-height=180}
-------------------------------------

### <span class="dex-title">Trainer Controls</span> {data-width=30}

<div class="trainer-panel">

<span class="caption-warm">select your pok√©mon of interest using the dropdown.</span>

```{r}

tagList(
  div(class = "control-label", "Pok√©mon"),
  selectInput(
    "filter_pokemon",
    NULL,
    choices = c("All", sort(unique(pokemon_df$pokemon))),
    selected = "All"))


```

</div>

### <span class="dex-title">Pok√©mon Viewer</span> {data-width=60}

```{r, }
## add code to print photo based on drop-down selection
## placeholder example:
pokemon_df %>%
  filter(pokemon == "eevee") %>%
  pull(url_image) %>%       
  image_read() 

```


Row {data-height=180}
-------------------------------------

### <span class="dex-title">Pok√©mon Power</span> {data-width=30}

<div class="trainer-panel">

```{r}
## add code forpower tracking graph
# placeholder example

pokemon_df %>%
  filter(pokemon %in% c("eevee", "vaporeon", "jolteon", "flareon")) %>%
  ggplot(aes(x = pokemon, y = hp, color = type_1)) +
  geom_point() + 
  labs(y = "Hit Points", color = "Power Type")

```

</div>

### <span class="dex-title">Pok√©mon Evolution</span> {data-width=60}

```{r}
## add code to print evolution - note, this may be harder than initially thought..
## doesn't seem to be a clean way to pull all stages of the pokemon evolution
# placeholder example

pokemon_df %>%
  filter(pokemon %in% c("vaporeon", "jolteon", "flareon")) %>%
  
  
  pull(url_image) %>%
  image_read() %>%
  image_scale("200") %>%     # <-- adjust width to fit flexboard
  image_append()

```


Row {data-height=60}
-------------------------------------

### <span class="dex-title">Pok√©dex Field Notes</span> ü¶¶

<div class="notes-card">

**Design Notes (Erica):**

- This is the layout for the Pok√©mon evolution page of our Pok√©dex dashboard.  
- Maintained a consistent theme with the Stat and Mapping interface created by Melanie
- The "Trainer Controls" allows the user to select a specific pokemon
- The selected pok√©mon is then displayed in the Pokemon viewer
- The Pok√©mon Evolution panel is for dsiplaying each evolved iteration of the selected Pok√©mon.
- The Pok√©mon Power panel shows the hit points for each pok√©mon, colored by power type 
- Kyle and Tayin will replace the placeholder plots and code with the real visualizations.  
- The `journal` theme plus custom styling blend a naturalist field-guide feel with a modern Pok√©dex interface.

</div>






